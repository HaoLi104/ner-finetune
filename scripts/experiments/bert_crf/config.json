{
  "model_name_or_path": "/mnt/windows/Users/Admin/LLM/models/bert_multi_language/",
  "tokenizer_name_or_path": "/mnt/windows/Users/Admin/LLM/models/bert_multi_language/",
  "label_map": {"键名": "KEY", "值": "VALUE", "医院名称": "HOSPITAL"},
  "max_seq_length": 512,
  "label_all_tokens": true,
  "chunk_size": 500,
  "chunk_overlap": 50,
  "value_attach_window": 60,
  "value_same_line_only": true,
  "data": {
    "input_files": [
      "data/ruyuanjilu/ruyuanjilu-2025-10-30-09-32.json",
      "data/menzhenbingli/menzhen-2025-10-30.json",
      "data/shuhoubingli/shuhoubingli-2025-10-30-09-28.json",
      "data/huojianbingli/huojianbingli-2025-11-05.json",
      "data/DA/clean_ocr_ppt_da_v4_7_report_key_alias.json"
    ],
    "output_dir": "data/kv_ner_prepared",
    "train_ratio": 0.9,
    "seed": 42,
    "exclude_titles_from_da": ["入院记录", "术后病理", "门诊病历", "活检病理", "会诊病理"]
  },
  "train": {
    "data_path": "data/kv_ner_prepared/train.json",
    "val_data_path": "data/kv_ner_prepared/val.json",
    "test_data_path": "data/kv_ner_prepared/test.json",
    "output_dir": "runs/experiments/bert_crf",
    "train_batch_size": 8,
    "eval_batch_size": 8,
    "num_workers": 0,
    "pin_memory": false,
    "learning_rate": 2e-5,
    "weight_decay": 0.03,
    "num_train_epochs": 4,
    "gradient_accumulation_steps": 1,
    "warmup_ratio": 0.1,
    "max_grad_norm": 1.0,
    "dropout": 0.2,
    "freeze_encoder": false,
    "use_bilstm": true,
    "lstm_hidden_size": 384,
    "lstm_num_layers": 3,
    "lstm_dropout": 0.2
  },
  "predict": {
    "input_path": "data/kv_ner_prepared/val_eval.jsonl",
    "output_path": "runs/experiments/bert_crf/predictions.json",
    "model_dir": "runs/experiments/bert_crf/best",
    "batch_size": 16,
    "num_workers": 0,
    "pin_memory": false
  },
  "evaluate": {
    "model_dir": "runs/experiments/bert_crf/best",
    "eval_data_path": "data/kv_ner_prepared/val_eval.jsonl",
    "output_dir": "runs/experiments/bert_crf/eval",
    "batch_size": 16,
    "num_workers": 0,
    "pin_memory": false
  }
}

